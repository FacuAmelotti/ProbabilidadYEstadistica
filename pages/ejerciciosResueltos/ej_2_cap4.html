<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/base.css" />
  <title>Ejercicio Resuelto - Demanda de Bebida</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

  

    .floating-elements {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .floating-dot {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 20s infinite ease-in-out;
    }

    .floating-dot:nth-child(1) {
      top: 20%;
      left: 20%;
      animation-delay: 0s;
    }

    .floating-dot:nth-child(2) {
      top: 60%;
      left: 80%;
      animation-delay: 7s;
    }

    .floating-dot:nth-child(3) {
      top: 80%;
      left: 40%;
      animation-delay: 14s;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      33% { transform: translate(50px, -50px); }
      66% { transform: translate(-50px, 50px); }
    }


    .nav-link:hover {
      color: white;
    }

    .exercise-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 120px 40px 60px;
    }

    .exercise-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .exercise-title {
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 300;
      margin-bottom: 15px;
      background: linear-gradient(135deg, #ffffff, #a0a0a0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .exercise-subtitle {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.6);
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .context-box {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 40px;
      line-height: 1.7;
      color: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
    }

    .context-box h3 {
      color: #fff;
      font-weight: 500;
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    .context-box ul {
      margin-left: 25px;
      list-style: disc;
    }

    .context-box ul li {
      margin-bottom: 10px;
    }

    .hint-box {
      margin-top: 20px;
      padding: 20px;
      border-left: 4px solid rgba(120, 119, 198, 0.7);
      background: rgba(120, 119, 198, 0.1);
      border-radius: 8px;
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.8);
    }

    .step {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      margin-bottom: 25px;
      overflow: hidden;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .step-header {
      cursor: pointer;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #fff;
      font-weight: 500;
      font-size: 1.2rem;
      letter-spacing: 0.5px;
    }

    .step-header:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .step-header::after {
      content: 'â–¼';
      transition: transform 0.3s;
    }

    .step.open .step-header::after {
      transform: rotate(180deg);
    }

    .step-content {
      display: none;
      padding: 20px 30px 30px;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.8;
    }

    .step-content p {
      margin-bottom: 15px;
    }

    .step-content ul {
      margin: 15px 0 15px 25px;
    }

    .step-content ul li {
      margin-bottom: 10px;
    }

    .step.open .step-content {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    .math {
      background: rgba(255, 255, 255, 0.08);
      padding: 4px 8px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      color: #a0e0ff;
      font-size: 0.95em;
    }

    .math-display {
      text-align: center;
      font-size: 1.15rem;
      margin: 25px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .formula {
      font-family: 'Times New Roman', serif;
      font-size: 1.2rem;
      color: #a0e0ff;
      line-height: 1.8;
    }

    .answer-box {
      background: linear-gradient(135deg, rgba(120, 119, 198, 0.2), rgba(120, 119, 198, 0.1));
      border: 2px solid rgba(120, 119, 198, 0.6);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      text-align: center;
    }

    .answer-box h4 {
      color: #fff;
      margin-bottom: 15px;
      font-weight: 600;
      font-size: 1.2rem;
    }

    .answer {
      font-size: 1.5rem;
      font-weight: 700;
      color: #8fffa0;
      margin: 10px 0;
    }

    .chart-container {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 25px;
      margin: 25px 0;
      text-align: center;
    }

    .chart-container h4 {
      color: #fff;
      margin-bottom: 20px;
      font-size: 1.1rem;
    }

    #densityChart, #demandChart {
      max-width: 100%;
      height: 300px;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 8px;
    }

    .check-panel {
      margin-top: 40px;
      padding: 25px;
      border-radius: 16px;
      background: rgba(120, 119, 198, 0.15);
      border: 1px solid rgba(120, 119, 198, 0.4);
      text-align: center;
    }

    .check-panel h3 {
      color: #fff;
      margin-bottom: 15px;
      font-weight: 500;
    }

    .check-panel input {
      padding: 12px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
      color: white;
      width: 150px;
      text-align: center;
      font-size: 1rem;
      margin: 5px;
    }

    .check-btn {
      margin-top: 15px;
      padding: 12px 30px;
      border: none;
      border-radius: 30px;
      background: linear-gradient(135deg, #7877c6, #6564b5);
      color: white;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .check-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(120, 119, 198, 0.4);
    }

    .result {
      margin-top: 20px;
      font-weight: 600;
      font-size: 1.1rem;
    }

    .correct { color: #8fffa0; }
    .incorrect { color: #ff8f8f; }

    .note-box {
      background: rgba(88, 166, 255, 0.1);
      border-left: 4px solid rgba(88, 166, 255, 0.7);
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      color: rgba(255, 255, 255, 0.85);
    }

    .note-box strong {
      color: #a0e0ff;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .exercise-container { padding: 100px 20px 40px; }
      .step-header { font-size: 1rem; }
      .math-display { font-size: 1rem; }
      .nav-container { padding: 0 20px; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Fondo animado -->
  <div class="animated-bg"></div>
  <div class="floating-elements">
    <div class="floating-dot"></div>
    <div class="floating-dot"></div>
    <div class="floating-dot"></div>
  </div>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">PyE</a>
      <ul class="nav-menu">
        <li><a id="back-btn" class="nav-link">Volver</a></li>
      </ul>
    </div>
  </nav>

  <!-- Contenido principal -->
  <div class="exercise-container">
    <div class="exercise-header">
      <h1 class="exercise-title">Ejercicio Resuelto</h1>
      <p class="exercise-subtitle">Demanda Semanal de Bebida - Valor Esperado y Varianza</p>
    </div>

    <!-- Contexto y enunciado -->
    <div class="context-box">
      <h3>ğŸ¯ Contexto del Problema</h3>
      <p>La <strong>demanda semanal</strong> de cierta bebida en una cadena de tiendas, medida en <strong>miles de litros</strong>, estÃ¡ dada por la funciÃ³n:</p>
      
      <div class="math-display">
        <div class="formula">g(X) = XÂ² + X - 2</div>
      </div>

      <p>donde <strong>X</strong> es una variable aleatoria continua con funciÃ³n de densidad:</p>

      <div class="math-display">
        <div class="formula">
          f(x) = {<br>
          &nbsp;&nbsp;2(x - 1) &nbsp; si 1 â‰¤ x â‰¤ 2<br>
          &nbsp;&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; en otro caso
        </div>
      </div>

      <h3>ğŸ“˜ Objetivo</h3>
      <ul>
        <li>ğŸ”¢ <strong>Calcular E[g(X)]:</strong> el valor esperado de la demanda semanal</li>
        <li>ğŸ“Š <strong>Calcular Var[g(X)]:</strong> la varianza de la demanda semanal</li>
      </ul>

      <div class="hint-box">
        ğŸ’¡ <strong>Recordatorio:</strong> Para una transformaciÃ³n g(X), usamos:<br>
        â€¢ E[g(X)] = âˆ« g(x)Â·f(x) dx<br>
        â€¢ Var[g(X)] = E[g(X)Â²] - (E[g(X)])Â²
      </div>
    </div>

    <!-- Paso 1: VerificaciÃ³n de funciÃ³n de densidad -->
    <div class="step">
      <div class="step-header">1ï¸âƒ£ VerificaciÃ³n de la funciÃ³n de densidad</div>
      <div class="step-content">
        <p>Antes de comenzar, verificamos que f(x) es una funciÃ³n de densidad vÃ¡lida:</p>
        
        <div class="math-display">
          <div class="formula">âˆ«â‚Â² 2(x - 1) dx</div>
        </div>
        
        <p>Resolviendo la integral:</p>
        
        <div class="math-display">
          <div class="formula">
            = 2 âˆ«â‚Â² (x - 1) dx<br>
            = 2 [xÂ²/2 - x]â‚Â²<br>
            = 2 [(4/2 - 2) - (1/2 - 1)]<br>
            = 2 [0 - (-1/2)]<br>
            = 2 Ã— 1/2 = 1 âœ“
          </div>
        </div>
        
        <div class="answer-box">
          <h4>âœ… VerificaciÃ³n</h4>
          <p>La integral da 1, confirmando que <strong>f(x) es una funciÃ³n de densidad vÃ¡lida</strong>.</p>
        </div>
      </div>
    </div>

    <!-- Paso 2: Calcular E[X] y E[XÂ²] -->
    <div class="step">
      <div class="step-header">2ï¸âƒ£ Calcular E[X] y E[XÂ²] (momentos de X)</div>
      <div class="step-content">
        <p>Necesitamos estos momentos para calcular E[g(X)] usando las propiedades de esperanza.</p>
        
        <h4 style="color: #a0e0ff; margin: 20px 0 10px;">CÃ¡lculo de E[X]:</h4>
        
        <div class="math-display">
          <div class="formula">
            E[X] = âˆ«â‚Â² x Â· 2(x - 1) dx<br>
            = 2 âˆ«â‚Â² (xÂ² - x) dx<br>
            = 2 [xÂ³/3 - xÂ²/2]â‚Â²
          </div>
        </div>
        
        <p>Evaluando en los lÃ­mites:</p>
        
        <div class="math-display">
          <div class="formula">
            = 2 [(8/3 - 4/2) - (1/3 - 1/2)]<br>
            = 2 [(8/3 - 2) - (1/3 - 1/2)]<br>
            = 2 [(8/3 - 6/3) - (2/6 - 3/6)]<br>
            = 2 [2/3 - (-1/6)]<br>
            = 2 [2/3 + 1/6] = 2 [4/6 + 1/6]<br>
            = 2 Ã— 5/6 = 5/3
          </div>
        </div>

        <h4 style="color: #a0e0ff; margin: 30px 0 10px;">CÃ¡lculo de E[XÂ²]:</h4>
        
        <div class="math-display">
          <div class="formula">
            E[XÂ²] = âˆ«â‚Â² xÂ² Â· 2(x - 1) dx<br>
            = 2 âˆ«â‚Â² (xÂ³ - xÂ²) dx<br>
            = 2 [xâ´/4 - xÂ³/3]â‚Â²
          </div>
        </div>
        
        <p>Evaluando:</p>
        
        <div class="math-display">
          <div class="formula">
            = 2 [(16/4 - 8/3) - (1/4 - 1/3)]<br>
            = 2 [(4 - 8/3) - (3/12 - 4/12)]<br>
            = 2 [(12/3 - 8/3) - (-1/12)]<br>
            = 2 [4/3 + 1/12]<br>
            = 2 [16/12 + 1/12] = 2 Ã— 17/12<br>
            = 17/6
          </div>
        </div>

        <div class="answer-box">
          <h4>ğŸ“Š Momentos de X</h4>
          <div class="answer">E[X] = 5/3 â‰ˆ 1.6667</div>
          <div class="answer">E[XÂ²] = 17/6 â‰ˆ 2.8333</div>
        </div>
      </div>
    </div>

    <!-- Paso 3: Calcular E[g(X)] -->
    <div class="step">
      <div class="step-header">3ï¸âƒ£ Calcular E[g(X)] - Valor Esperado de la Demanda</div>
      <div class="step-content">
        <p>Recordemos que <span class="math">g(X) = XÂ² + X - 2</span></p>
        
        <p>Por la <strong>linealidad de la esperanza</strong>:</p>
        
        <div class="math-display">
          <div class="formula">
            E[g(X)] = E[XÂ² + X - 2]<br>
            = E[XÂ²] + E[X] - 2
          </div>
        </div>

        <p>Sustituyendo los valores calculados:</p>
        
        <div class="math-display">
          <div class="formula">
            E[g(X)] = 17/6 + 5/3 - 2<br>
            = 17/6 + 10/6 - 12/6<br>
            = (17 + 10 - 12)/6<br>
            = 15/6 = 5/2 = 2.5
          </div>
        </div>

        <div class="answer-box">
          <h4>ğŸ¯ Valor Esperado de la Demanda</h4>
          <div class="answer">E[g(X)] = 5/2 = 2.5 miles de litros</div>
          <p>En promedio, la demanda semanal es de <strong>2,500 litros</strong></p>
        </div>

        <div class="note-box">
          <strong>ğŸ“ InterpretaciÃ³n:</strong> Esto significa que, en el largo plazo, la cadena de tiendas puede esperar vender aproximadamente 2,500 litros de esta bebida cada semana.
        </div>
      </div>
    </div>

    <!-- Paso 4: Calcular E[g(X)Â²] -->
    <div class="step">
      <div class="step-header">4ï¸âƒ£ Calcular E[g(X)Â²] - Momento de segundo orden</div>
      <div class="step-content">
        <p>Para calcular la varianza, necesitamos E[g(X)Â²]. Primero expandimos:</p>
        
        <div class="math-display">
          <div class="formula">
            g(X)Â² = (XÂ² + X - 2)Â²<br>
            = Xâ´ + 2XÂ³ - 4XÂ² + XÂ² + 2XÂ² - 4X + 4<br>
            = Xâ´ + 2XÂ³ - XÂ² - 4X + 4
          </div>
        </div>

        <p>Calculamos cada momento necesario:</p>

        <h4 style="color: #a0e0ff; margin: 20px 0 10px;">E[XÂ³]:</h4>
        
        <div class="math-display">
          <div class="formula">
            E[XÂ³] = âˆ«â‚Â² xÂ³ Â· 2(x - 1) dx<br>
            = 2 âˆ«â‚Â² (xâ´ - xÂ³) dx<br>
            = 2 [xâµ/5 - xâ´/4]â‚Â²<br>
            = 2 [(32/5 - 16/4) - (1/5 - 1/4)]<br>
            = 2 [(32/5 - 4) - (4/20 - 5/20)]<br>
            = 2 [(32/5 - 20/5) - (-1/20)]<br>
            = 2 [12/5 + 1/20] = 2 [48/20 + 1/20]<br>
            = 2 Ã— 49/20 = 49/10
          </div>
        </div>

        <h4 style="color: #a0e0ff; margin: 20px 0 10px;">E[Xâ´]:</h4>
        
        <div class="math-display">
          <div class="formula">
            E[Xâ´] = âˆ«â‚Â² xâ´ Â· 2(x - 1) dx<br>
            = 2 âˆ«â‚Â² (xâµ - xâ´) dx<br>
            = 2 [xâ¶/6 - xâµ/5]â‚Â²<br>
            = 2 [(64/6 - 32/5) - (1/6 - 1/5)]<br>
            = 2 [(320/30 - 192/30) - (5/30 - 6/30)]<br>
            = 2 [128/30 - (-1/30)]<br>
            = 2 Ã— 129/30 = 129/15 = 43/5
          </div>
        </div>

        <p>Ahora calculamos E[g(X)Â²]:</p>

        <div class="math-display">
          <div class="formula">
            E[g(X)Â²] = E[Xâ´] + 2E[XÂ³] - E[XÂ²] - 4E[X] + 4<br>
            = 43/5 + 2(49/10) - 17/6 - 4(5/3) + 4<br>
            = 43/5 + 49/5 - 17/6 - 20/3 + 4<br>
            = 92/5 - 17/6 - 20/3 + 4
          </div>
        </div>

        <p>Usando denominador comÃºn 30:</p>

        <div class="math-display">
          <div class="formula">
            = 552/30 - 85/30 - 200/30 + 120/30<br>
            = (552 - 85 - 200 + 120)/30<br>
            = 387/30 = 129/10 = 12.9
          </div>
        </div>

        <div class="answer-box">
          <h4>ğŸ“Š Momento de Segundo Orden</h4>
          <div class="answer">E[g(X)Â²] = 129/10 = 12.9</div>
        </div>
      </div>
    </div>

    <!-- Paso 5: Calcular Varianza -->
    <div class="step">
      <div class="step-header">5ï¸âƒ£ Calcular Var[g(X)] - Varianza de la Demanda</div>
      <div class="step-content">
        <p>Usamos la fÃ³rmula de la varianza:</p>
        
        <div class="math-display">
          <div class="formula">
            Var[g(X)] = E[g(X)Â²] - (E[g(X)])Â²
          </div>
        </div>

        <p>Sustituyendo los valores calculados:</p>
        
        <div class="math-display">
          <div class="formula">
            Var[g(X)] = 129/10 - (5/2)Â²<br>
            = 129/10 - 25/4<br>
            = 258/20 - 125/20<br>
            = 133/20 = 6.65
          </div>
        </div>

        <p>La desviaciÃ³n estÃ¡ndar es:</p>

        <div class="math-display">
          <div class="formula">
            Ïƒ[g(X)] = âˆš(133/20) â‰ˆ 2.578 miles de litros
          </div>
        </div>

        <div class="answer-box">
          <h4>ğŸ¯ Varianza de la Demanda</h4>
          <div class="answer">Var[g(X)] = 133/20 = 6.65 (miles de litros)Â²</div>
          <div class="answer">Ïƒ[g(X)] â‰ˆ 2.578 miles de litros</div>
        </div>

        <div class="note-box">
          <strong>ğŸ“ InterpretaciÃ³n:</strong> La varianza de 6.65 indica una variabilidad moderada en la demanda semanal. La desviaciÃ³n estÃ¡ndar de aproximadamente 2,578 litros nos dice que la demanda tÃ­picamente varÃ­a alrededor de Â±2,578 litros respecto al promedio de 2,500 litros.
        </div>
      </div>
    </div>

    <!-- Paso 6: Resumen de resultados -->
    <div class="step">
      <div class="step-header">6ï¸âƒ£ Resumen de Resultados Finales</div>
      <div class="step-content">
        <div class="answer-box" style="background: linear-gradient(135deg, rgba(143, 255, 160, 0.2), rgba(143, 255, 160, 0.1));">
          <h4>ğŸ“Š RESULTADOS FINALES</h4>
          
          <div style="text-align: left; max-width: 600px; margin: 20px auto;">
            <p style="margin: 15px 0;"><strong>Valor Esperado de la Demanda:</strong></p>
            <div class="answer">E[g(X)] = 5/2 = 2.5 miles de litros</div>
            
            <p style="margin: 25px 0 15px;"><strong>Varianza de la Demanda:</strong></p>
            <div class="answer">Var[g(X)] = 133/20 = 6.65 (miles de litros)Â²</div>
            
            <p style="margin: 25px 0 15px;"><strong>DesviaciÃ³n EstÃ¡ndar:</strong></p>
            <div class="answer">Ïƒ[g(X)] â‰ˆ 2.578 miles de litros</div>
          </div>
        </div>

        <div class="note-box" style="margin-top: 30px; text-align: left;">
          <strong>ğŸ¯ Conclusiones para la GestiÃ³n:</strong><br><br>
          â€¢ La cadena puede planificar un inventario base de <strong>2,500 litros por semana</strong><br>
          â€¢ La desviaciÃ³n estÃ¡ndar de 2,578 litros sugiere mantener un <strong>stock de seguridad</strong> para cubrir la variabilidad<br>
          â€¢ Con 95% de confianza (Â±2Ïƒ), la demanda estarÃ­a aproximadamente entre -2,656 y 7,656 litros (considerando el rango prÃ¡ctico: 0 a 7,656 litros)
        </div>
      </div>
    </div>

  </div>

  <script>
    // ExpansiÃ³n de pasos
    document.querySelectorAll('.step-header').forEach(header => {
      header.addEventListener('click', () => {
        const step = header.parentElement;
        step.classList.toggle('open');
      });
    });

    // Mostrar momentos
    function showMoments() {
      const resultDiv = document.getElementById('momentsResult');
      resultDiv.innerHTML = `
        <div style="text-align: left; max-width: 400px; margin: 20px auto; line-height: 2;">
          <strong>Momentos de X:</strong><br>
          E[X] = 5/3 â‰ˆ <span class="correct">1.6667</span><br>
          E[XÂ²] = 17/6 â‰ˆ <span class="correct">2.8333</span><br>
          E[XÂ³] = 49/10 = <span class="correct">4.9000</span><br>
          E[Xâ´] = 43/5 = <span class="correct">8.6000</span>
        </div>
      `;
    }

    // CÃ¡lculo personalizado
    function calculateCustom() {
      const x = parseFloat(document.getElementById('customX').value);
      const resultDiv = document.getElementById('customResult');
      
      if (x < 1 || x > 2) {
        resultDiv.innerHTML = `âŒ <span class="incorrect">x debe estar entre 1 y 2.</span>`;
        return;
      }
      
      const fx = 2 * (x - 1);
      const gx = x * x + x - 2;
      
      resultDiv.innerHTML = `
        <div style="margin-top: 15px;">
          Para x = ${x}:<br>
          <span class="correct">f(${x}) = ${fx.toFixed(4)}</span><br>
          <span class="correct">g(${x}) = ${gx.toFixed(4)} miles de litros</span>
        </div>
      `;
    }

    // Inicializar grÃ¡ficos al cargar la pÃ¡gina
    window.addEventListener('load', () => {
      createDensityChart();
      createDemandChart();
    });

    // BotÃ³n "Volver" dinÃ¡mico
    document.getElementById('back-btn').addEventListener('click', () => {
      if (document.referrer && document.referrer !== window.location.href) {
        history.back();
      } else {
        window.location.href = '../temario.html'; // fallback
      }
    });
  </script>
</body>
</html>