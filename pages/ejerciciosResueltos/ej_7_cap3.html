<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ejercicio Resuelto - Control de Calidad de Arandelas</title>
  <link rel="stylesheet" href="../css/base.css">
  <style>
    .exercise-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 120px 40px 60px;
    }

    .exercise-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .exercise-title {
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 300;
      margin-bottom: 15px;
      background: white;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .exercise-subtitle {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.6);
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .context-box {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 40px;
      line-height: 1.7;
      color: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
    }

    .context-box h3 {
      color: #fff;
      font-weight: 500;
      margin-bottom: 15px;
      font-size: 1.4rem;
    }

    .context-box h4 {
      color: #66c8ff;
      font-weight: 500;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .context-box p {
      margin-bottom: 15px;
    }

    .context-box ul {
      margin-left: 25px;
      margin-bottom: 15px;
    }

    .context-box li {
      margin-bottom: 10px;
    }

    .visual-representation {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 30px 0;
      padding: 25px;
      background: rgba(100, 200, 255, 0.05);
      border: 1px solid rgba(100, 200, 255, 0.2);
      border-radius: 12px;
    }

    .visual-box {
      text-align: center;
      padding: 20px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 10px;
    }

    .visual-box h4 {
      color: #66c8ff;
      margin-bottom: 15px;
      font-size: 1rem;
    }

    .visual-box .big-number {
      font-size: 3rem;
      font-weight: 700;
      color: #fff;
      margin: 10px 0;
    }

    .visual-box .description {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.9rem;
    }

    .washer-grid {
      display: grid;
      grid-template-columns: repeat(15, 1fr);
      gap: 5px;
      margin: 20px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 10px;
    }

    .washer {
      aspect-ratio: 1;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      transition: transform 0.3s ease;
      border: 2px solid;
    }

    .washer.good {
      background: rgba(100, 255, 150, 0.3);
      border-color: rgba(100, 255, 150, 0.6);
    }

    .washer.bad {
      background: rgba(255, 100, 100, 0.4);
      border-color: rgba(255, 100, 100, 0.8);
      font-weight: bold;
    }

    .washer:hover {
      transform: scale(1.2);
    }

    .formula-reference {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .formula-card {
      background: rgba(100, 200, 255, 0.1);
      border: 1px solid rgba(100, 200, 255, 0.3);
      border-radius: 12px;
      padding: 15px;
      transition: all 0.3s ease;
    }

    .formula-card:hover {
      background: rgba(100, 200, 255, 0.15);
      transform: translateY(-2px);
    }

    .formula-card h4 {
      color: #66c8ff;
      margin-bottom: 8px;
      font-size: 1rem;
    }

    .formula-card .formula {
      font-family: 'Courier New', monospace;
      color: #fff;
      font-size: 1.1rem;
      margin: 8px 0;
      background: rgba(0, 0, 0, 0.2);
      padding: 8px;
      border-radius: 6px;
    }

    .formula-card .description {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9rem;
    }

    .hint-box {
      margin-top: 20px;
      padding: 20px;
      border-left: 4px solid rgba(100, 200, 255, 0.7);
      background: rgba(100, 200, 255, 0.1);
      border-radius: 8px;
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.8);
    }

    .step {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      margin-bottom: 25px;
      overflow: hidden;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .step-header {
      cursor: pointer;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #fff;
      font-weight: 500;
      font-size: 1.2rem;
      letter-spacing: 0.5px;
    }

    .step-header:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .step-header::after {
      content: '‚ñº';
      transition: transform 0.3s ease;
    }

    .step.open .step-header::after {
      transform: rotate(180deg);
    }

    .step-content {
      display: none;
      padding: 20px 30px;
      color: rgba(255, 255, 255, 0.85);
      line-height: 1.7;
    }

    .step-content p {
      margin-bottom: 15px;
    }

    .step.open .step-content {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    .math {
      background: rgba(255, 255, 255, 0.08);
      padding: 4px 8px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      color: #66c8ff;
    }

    .math-display {
      text-align: center;
      font-size: 1.2rem;
      margin: 20px 0;
      padding: 20px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 8px;
    }

    .formula {
      font-family: 'Courier New', monospace;
      font-size: 1.2rem;
      color: #66c8ff;
      margin: 10px 0;
    }

    .calculation-steps {
      background: rgba(100, 200, 255, 0.05);
      border: 1px solid rgba(100, 200, 255, 0.2);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    .calculation-steps .step-line {
      margin: 10px 0;
      padding: 10px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      color: rgba(255, 255, 255, 0.9);
    }

    .answer-box {
      background: linear-gradient(135deg, rgba(100, 200, 255, 0.2), rgba(100, 200, 255, 0.1));
      border: 2px solid rgba(100, 200, 255, 0.6);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }

    .answer-box h4 {
      color: #fff;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .answer {
      font-size: 1.4rem;
      font-weight: 700;
      color: #8fffa0;
    }

    .chart-container {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      margin: 20px 0;
    }

    .chart-container h4 {
      color: #fff;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.3rem;
    }

    canvas {
      display: block;
      width: 100% !important;
      max-width: 700px;
      height: 350px !important;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 10px;
    }

    .prob-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      overflow: hidden;
    }

    .prob-table th,
    .prob-table td {
      padding: 12px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .prob-table th {
      background: rgba(100, 200, 255, 0.3);
      font-weight: 600;
      color: #fff;
    }

    .prob-table td {
      color: rgba(255, 255, 255, 0.9);
      font-weight: 500;
    }

    .prob-table tr:hover td {
      background: rgba(100, 200, 255, 0.1);
    }

    .prob-table .highlight {
      background: rgba(100, 255, 150, 0.2);
      font-weight: 700;
    }

    .simulator {
      background: rgba(150, 100, 255, 0.1);
      border: 2px solid rgba(150, 100, 255, 0.3);
      border-radius: 16px;
      padding: 30px;
      margin: 30px 0;
    }

    .simulator h3 {
      color: #fff;
      margin-bottom: 20px;
      text-align: center;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 25px;
    }

    .control {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 15px;
    }

    .control label {
      color: rgba(255, 255, 255, 0.9);
      font-weight: 500;
      flex: 1;
    }

    .control input[type="range"] {
      flex: 2;
      height: 8px;
      border-radius: 5px;
      background: rgba(255, 255, 255, 0.1);
      outline: none;
      -webkit-appearance: none;
    }

    .control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #66c8ff;
      cursor: pointer;
    }

    .control input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #66c8ff;
      cursor: pointer;
    }

    .control .value-display {
      background: rgba(100, 200, 255, 0.2);
      padding: 8px 15px;
      border-radius: 8px;
      color: #66c8ff;
      font-weight: 600;
      min-width: 80px;
      text-align: center;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .result-card {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .result-card .label {
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9rem;
      margin-bottom: 8px;
    }

    .result-card .value {
      color: #8fffa0;
      font-size: 1.5rem;
      font-weight: 700;
    }

    .interpretation {
      background: rgba(100, 200, 255, 0.15);
      border: 2px solid rgba(100, 200, 255, 0.4);
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
    }

    .interpretation h4 {
      color: #66c8ff;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .interpretation ul {
      margin-left: 25px;
    }

    .interpretation li {
      margin-bottom: 10px;
      color: rgba(255, 255, 255, 0.85);
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      overflow: hidden;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .comparison-table th {
      background: rgba(100, 200, 255, 0.3);
      font-weight: 600;
      color: #fff;
    }

    .comparison-table td {
      color: rgba(255, 255, 255, 0.9);
    }

    .comparison-table .check {
      color: #8fffa0;
      font-weight: bold;
    }

    .comparison-table .cross {
      color: #ff8f8f;
      font-weight: bold;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .exercise-container { padding: 100px 20px 40px; }
      .step-header { font-size: 1rem; }
      .math-display { font-size: 1rem; }
      .control { flex-direction: column; align-items: flex-start; }
      .control input[type="range"] { width: 100%; }
      .visual-representation { grid-template-columns: 1fr; }
      .washer-grid { grid-template-columns: repeat(10, 1fr); }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Fondo animado -->
  <div class="animated-bg"></div>
  <div class="floating-elements">
    <div class="floating-dot"></div>
    <div class="floating-dot"></div>
    <div class="floating-dot"></div>
  </div>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">PyE</a>
      <ul class="nav-menu">
        <li><a class="nav-link" onclick="history.back()">‚Üê Volver</a></li>
      </ul>
    </div>
  </nav>

  <!-- Contenido principal -->
  <div class="exercise-container">
    <div class="exercise-header">
      <h1 class="exercise-title">Ejercicio Resuelto</h1>
      <p class="exercise-subtitle">Control de Calidad - Distribuci√≥n Hipergeom√©trica</p>
    </div>

    <!-- Contexto y enunciado -->
    <div class="context-box">
      <h3>üî© Enunciado del Problema</h3>
      <p>Un lote de <strong>75 arandelas</strong> contiene <strong>cinco</strong> en las que la variabilidad en el espesor alrededor de la circunferencia de la arandela es <strong>inaceptable</strong>.</p>
      
      <p>Se toma una <strong>muestra al azar de 10 arandelas</strong>, <strong>sin reemplazo</strong>.</p>
      
      <h4>üìã Preguntas:</h4>
      <ul>
        <li><strong>a)</strong> ¬øCu√°l es la probabilidad de que <strong>ninguna</strong> de las arandelas inaceptables se encuentre en la muestra?</li>
        <li><strong>b)</strong> ¬øCu√°l es la probabilidad de que <strong>al menos una</strong> de las arandelas inaceptables se encuentre en la muestra?</li>
        <li><strong>c)</strong> ¬øCu√°l es el <strong>n√∫mero promedio</strong> de arandelas inaceptables en la muestra?</li>
      </ul>

      <div class="hint-box">
        üí° <strong>Dato clave:</strong> Este es un problema de distribuci√≥n hipergeom√©trica porque hacemos muestreo SIN reemplazo de una poblaci√≥n finita.
      </div>
    </div>

    <!-- Visualizaci√≥n del problema -->
    <div class="context-box">
      <h3>üé® Visualizaci√≥n del Problema</h3>
      
      <div class="visual-representation">
        <div class="visual-box">
          <h4>üè≠ POBLACI√ìN TOTAL</h4>
          <div class="big-number">75</div>
          <div class="description">Arandelas en el lote</div>
        </div>

        <div class="visual-box">
          <h4>‚ùå DEFECTUOSAS</h4>
          <div class="big-number" style="color: #ff8f8f;">5</div>
          <div class="description">Arandelas inaceptables</div>
        </div>

        <div class="visual-box">
          <h4>‚úÖ ACEPTABLES</h4>
          <div class="big-number" style="color: #8fffa0;">70</div>
          <div class="description">Arandelas buenas</div>
        </div>

        <div class="visual-box">
          <h4>üî¨ MUESTRA</h4>
          <div class="big-number" style="color: #66c8ff;">10</div>
          <div class="description">Arandelas seleccionadas</div>
        </div>
      </div>

      <h4>Representaci√≥n del lote (75 arandelas):</h4>
      <p style="text-align: center; color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
        üü¢ Aceptable | üî¥ Inaceptable
      </p>
      <div class="washer-grid" id="washerGrid"></div>
    </div>

    <!-- Teor√≠a -->
    <div class="context-box">
      <h3>üìö Distribuci√≥n Hipergeom√©trica</h3>
      <p>La <strong>distribuci√≥n hipergeom√©trica</strong> modela el n√∫mero de √©xitos en una muestra de tama√±o n extra√≠da SIN reemplazo de una poblaci√≥n finita de tama√±o N que contiene K √©xitos.</p>

      <h4>Caracter√≠sticas:</h4>
      <ul>
        <li>Poblaci√≥n finita de tama√±o conocido</li>
        <li>Muestreo SIN reemplazo (cada elemento solo puede ser seleccionado una vez)</li>
        <li>Dos categor√≠as: √©xito o fracaso</li>
        <li>La probabilidad cambia con cada extracci√≥n</li>
      </ul>

      <h4>Par√°metros de nuestro problema:</h4>
      <ul>
        <li><strong>N</strong> = 75 (tama√±o de la poblaci√≥n)</li>
        <li><strong>K</strong> = 5 (n√∫mero de arandelas inaceptables en la poblaci√≥n)</li>
        <li><strong>n</strong> = 10 (tama√±o de la muestra)</li>
        <li><strong>X</strong> = n√∫mero de arandelas inaceptables en la muestra (variable aleatoria)</li>
      </ul>

      <div class="formula-reference">
        <div class="formula-card">
          <h4>üìä Funci√≥n de probabilidad</h4>
          <div class="formula">P(X = k) = [C(K,k) √ó C(N-K,n-k)] / C(N,n)</div>
          <div class="description">Probabilidad de obtener exactamente k √©xitos</div>
        </div>

        <div class="formula-card">
          <h4>üìç Media</h4>
          <div class="formula">E[X] = n √ó (K/N)</div>
          <div class="description">N√∫mero esperado de √©xitos en la muestra</div>
        </div>

        <div class="formula-card">
          <h4>üìè Varianza</h4>
          <div class="formula">Var(X) = n√ó(K/N)√ó((N-K)/N)√ó((N-n)/(N-1))</div>
          <div class="description">Variabilidad del n√∫mero de √©xitos</div>
        </div>

        <div class="formula-card">
          <h4>üî¢ Combinaciones</h4>
          <div class="formula">C(n,k) = n! / (k! √ó (n-k)!)</div>
          <div class="description">N√∫mero de formas de elegir k elementos de n</div>
        </div>
      </div>

      <div class="hint-box">
        üí° <strong>Notaci√≥n:</strong> C(n,k) tambi√©n se escribe como ‚ÅøC‚Çñ o (n k)
      </div>
    </div>

    <!-- Comparaci√≥n con binomial -->
    <div class="context-box">
      <h3>üîÑ Hipergeom√©trica vs. Binomial</h3>
      <p>Es importante distinguir cu√°ndo usar cada distribuci√≥n:</p>
      
      <table class="comparison-table">
        <thead>
          <tr>
            <th>Caracter√≠stica</th>
            <th>Hipergeom√©trica</th>
            <th>Binomial</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Tipo de muestreo</td>
            <td class="check">‚úì Sin reemplazo</td>
            <td class="cross">Con reemplazo</td>
          </tr>
          <tr>
            <td>Tama√±o de poblaci√≥n</td>
            <td class="check">‚úì Finita (peque√±a)</td>
            <td class="cross">Infinita (grande)</td>
          </tr>
          <tr>
            <td>Probabilidad constante</td>
            <td class="cross">‚úó Cambia en cada extracci√≥n</td>
            <td class="check">‚úì Permanece constante</td>
          </tr>
          <tr>
            <td>Ejemplo en este problema</td>
            <td class="check">‚úì 75 arandelas, muestra de 10</td>
            <td class="cross">Si fueran miles de arandelas</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Paso 1: Identificar par√°metros -->
    <div class="step">
      <div class="step-header">1Ô∏è‚É£ Identificar los par√°metros del problema</div>
      <div class="step-content">
        <p><strong>Extracci√≥n de datos del enunciado:</strong></p>
        
        <div class="math-display">
          <div class="formula">N = 75 (tama√±o de la poblaci√≥n)</div>
          <div class="formula">K = 5 (arandelas inaceptables en la poblaci√≥n)</div>
          <div class="formula">N - K = 70 (arandelas aceptables)</div>
          <div class="formula">n = 10 (tama√±o de la muestra)</div>
          <div class="formula">X = n√∫mero de arandelas inaceptables en la muestra</div>
        </div>

        <div class="hint-box">
          üí° <strong>Importante:</strong> Usamos hipergeom√©trica porque el muestreo es SIN reemplazo y la poblaci√≥n es finita (75 arandelas).
        </div>
      </div>
    </div>

    <!-- Paso 2: Pregunta a) -->
    <div class="step">
      <div class="step-header">2Ô∏è‚É£ Pregunta a) Probabilidad de que NINGUNA sea inaceptable</div>
      <div class="step-content">
        <p><strong>Buscamos:</strong> P(X = 0) - que las 10 arandelas de la muestra sean todas aceptables</p>
        
        <h4 style="color: #66c8ff; margin-top: 20px;">F√≥rmula hipergeom√©trica:</h4>
        <div class="math-display">
          <div class="formula">P(X = 0) = [C(5,0) √ó C(70,10)] / C(75,10)</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Paso 1: Calcular C(5, 0)</h4>
        <p>Formas de elegir 0 arandelas inaceptables de las 5 disponibles:</p>
        <div class="calculation-steps">
          <div class="step-line">C(5, 0) = 5! / (0! √ó 5!)</div>
          <div class="step-line">C(5, 0) = 1 / (1 √ó 1)</div>
          <div class="step-line">C(5, 0) = 1</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Paso 2: Calcular C(70, 10)</h4>
        <p>Formas de elegir 10 arandelas aceptables de las 70 disponibles:</p>
        <div class="calculation-steps">
          <div class="step-line">C(70, 10) = 70! / (10! √ó 60!)</div>
          <div class="step-line">C(70, 10) = 396,704,524,216</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Paso 3: Calcular C(75, 10)</h4>
        <p>Formas totales de elegir 10 arandelas de las 75 del lote:</p>
        <div class="calculation-steps">
          <div class="step-line">C(75, 10) = 75! / (10! √ó 65!)</div>
          <div class="step-line">C(75, 10) = 759,499,770,269</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Paso 4: Calcular la probabilidad</h4>
        <div class="calculation-steps">
          <div class="step-line">P(X = 0) = [1 √ó 396,704,524,216] / 759,499,770,269</div>
          <div class="step-line">P(X = 0) = 396,704,524,216 / 759,499,770,269</div>
          <div class="step-line">P(X = 0) = 0.5223</div>
        </div>

        <div class="answer-box">
          <h4>üéØ Respuesta a)</h4>
          <div class="answer">P(X = 0) = 0.5223 = 52.23%</div>
        </div>

        <div class="interpretation">
          <h4>üìä Interpretaci√≥n:</h4>
          <ul>
            <li>Hay una probabilidad del <strong>52.23%</strong> de que ninguna arandela inaceptable est√© en la muestra de 10.</li>
            <li>Aproximadamente en <strong>1 de cada 2 muestras</strong> no encontraremos ninguna arandela defectuosa.</li>
            <li>Esto tiene sentido porque solo el 6.67% del lote (5/75) es defectuoso.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Paso 3: Pregunta b) -->
    <div class="step">
      <div class="step-header">3Ô∏è‚É£ Pregunta b) Probabilidad de que AL MENOS UNA sea inaceptable</div>
      <div class="step-content">
        <p><strong>Buscamos:</strong> P(X ‚â• 1) - que al menos una arandela de la muestra sea inaceptable</p>
        
        <h4 style="color: #66c8ff; margin-top: 20px;">M√©todo: Usar el complemento</h4>
        <p>Es m√°s f√°cil calcular el complemento que sumar todas las probabilidades P(X=1) + P(X=2) + ... + P(X=5)</p>
        
        <div class="math-display">
          <div class="formula">P(X ‚â• 1) = 1 - P(X = 0)</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">C√°lculo:</h4>
        <div class="calculation-steps">
          <div class="step-line">P(X ‚â• 1) = 1 - P(X = 0)</div>
          <div class="step-line">P(X ‚â• 1) = 1 - 0.5223</div>
          <div class="step-line">P(X ‚â• 1) = 0.4777</div>
        </div>

        <div class="answer-box">
          <h4>üéØ Respuesta b)</h4>
          <div class="answer">P(X ‚â• 1) = 0.4777 = 47.77%</div>
        </div>

        <div class="interpretation">
          <h4>üìä Interpretaci√≥n:</h4>
          <ul>
            <li>Hay una probabilidad del <strong>47.77%</strong> de encontrar al menos una arandela inaceptable en la muestra.</li>
            <li>Aproximadamente en <strong>1 de cada 2 muestras</strong> encontraremos al menos una arandela defectuosa.</li>
            <li>La suma de ambas probabilidades: 52.23% + 47.77% = 100% ‚úì</li>
          </ul>
        </div>

        <div class="hint-box">
          üí° <strong>Nota:</strong> El evento "ninguna inaceptable" y "al menos una inaceptable" son complementarios, por eso suman 100%.
        </div>
      </div>
    </div>

    <!-- Paso 4: Pregunta c) -->
    <div class="step">
      <div class="step-header">4Ô∏è‚É£ Pregunta c) N√∫mero promedio de arandelas inaceptables</div>
      <div class="step-content">
        <p><strong>Buscamos:</strong> E[X] - el valor esperado o promedio de arandelas inaceptables en la muestra</p>
        
        <h4 style="color: #66c8ff; margin-top: 20px;">F√≥rmula de la media:</h4>
        <div class="math-display">
          <div class="formula">E[X] = n √ó (K / N)</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Sustituyendo valores:</h4>
        <div class="calculation-steps">
          <div class="step-line">E[X] = n √ó (K / N)</div>
          <div class="step-line">E[X] = 10 √ó (5 / 75)</div>
          <div class="step-line">E[X] = 10 √ó 0.06667</div>
          <div class="step-line">E[X] = 0.6667 arandelas</div>
        </div>

        <h4 style="color: #66c8ff; margin-top: 20px;">Tambi√©n podemos calcular la varianza y desviaci√≥n est√°ndar:</h4>
        
        <p><strong>Varianza:</strong></p>
        <div class="calculation-steps">
          <div class="step-line">Var(X) = n √ó (K/N) √ó ((N-K)/N) √ó ((N-n)/(N-1))</div>
          <div class="step-line">Var(X) = 10 √ó (5/75) √ó (70/75) √ó (65/74)</div>
          <div class="step-line">Var(X) = 10 √ó 0.06667 √ó 0.9333 √ó 0.8784</div>
          <div class="step-line">Var(X) = 0.5467</div>
        </div>

        <p><strong>Desviaci√≥n est√°ndar:</strong></p>
        <div class="calculation-steps">
          <div class="step-line">œÉ = ‚àöVar(X) = ‚àö0.5467</div>
          <div class="step-line">œÉ = 0.7394 arandelas</div>
        </div>

        <div class="answer-box">
          <h4>üéØ Respuesta c)</h4>
          <div class="answer">E[X] = 0.67 arandelas inaceptables (promedio)</div>
        </div>

        <div class="interpretation">
          <h4>üìä Interpretaci√≥n:</h4>
          <ul>
            <li>En promedio, esperamos encontrar <strong>0.67 arandelas inaceptables</strong> en cada muestra de 10.</li>
            <li>Esto equivale a aproximadamente <strong>2 arandelas defectuosas cada 3 muestras</strong>.</li>
            <li>La desviaci√≥n est√°ndar de 0.74 indica que el n√∫mero real puede variar moderadamente alrededor del promedio.</li>
            <li>Tiene sentido: tomamos 10/75 = 13.33% del lote, y hay 5 defectuosas, entonces 13.33% √ó 5 ‚âà 0.67</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Paso 5: Distribuci√≥n completa -->
    <div class="step">
      <div class="step-header">5Ô∏è‚É£ Distribuci√≥n completa de probabilidades</div>
      <div class="step-content">
        <p><strong>Calculemos todas las probabilidades posibles:</strong></p>
        
        <table class="prob-table">
          <thead>
            <tr>
              <th>k</th>
              <th>Descripci√≥n</th>
              <th>P(X = k)</th>
              <th>Porcentaje</th>
            </tr>
          </thead>
          <tbody>
            <tr class="highlight">
              <td>0</td>
              <td>Ninguna inaceptable</td>
              <td>0.5223</td>
              <td>52.23%</td>
            </tr>
            <tr>
              <td>1</td>
              <td>Una inaceptable</td>
              <td>0.3668</td>
              <td>36.68%</td>
            </tr>
            <tr>
              <td>2</td>
              <td>Dos inaceptables</td>
              <td>0.0973</td>
              <td>9.73%</td>
            </tr>
            <tr>
              <td>3</td>
              <td>Tres inaceptables</td>
              <td>0.0129</td>
              <td>1.29%</td>
            </tr>
            <tr>
              <td>4</td>
              <td>Cuatro inaceptables</td>
              <td>0.0008</td>
              <td>0.08%</td>
            </tr>
            <tr>
              <td>5</td>
              <td>Cinco inaceptables</td>
              <td>0.00002</td>
              <td>0.002%</td>
            </tr>
            <tr style="background: rgba(100, 200, 255, 0.2); font-weight: bold;">
              <td colspan="2">SUMA TOTAL</td>
              <td>1.0000</td>
              <td>100%</td>
            </tr>
          </tbody>
        </table>

        <div class="chart-container">
          <h4>üìä Distribuci√≥n de Probabilidad</h4>
          <canvas id="distributionChart"></canvas>
        </div>

        <div class="chart-container">
          <h4>üìà Funci√≥n de Distribuci√≥n Acumulada</h4>
          <canvas id="cumulativeChart"></canvas>
        </div>

        <div class="interpretation">
          <h4>üîç An√°lisis de la distribuci√≥n:</h4>
          <ul>
            <li>La probabilidad m√°s alta (52.23%) es para X=0 (ninguna defectuosa)</li>
            <li>La segunda m√°s probable (36.68%) es para X=1 (una defectuosa)</li>
            <li>Juntas, X=0 y X=1 representan el 88.91% de los casos</li>
            <li>Es muy poco probable (0.08%) encontrar 4 o m√°s arandelas defectuosas</li>
            <li>Encontrar las 5 arandelas defectuosas en la muestra es pr√°cticamente imposible (0.002%)</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Paso 6: Resumen -->
    <div class="step">
      <div class="step-header">6Ô∏è‚É£ Resumen de respuestas</div>
      <div class="step-content">
        <div class="answer-box" style="margin-bottom: 15px;">
          <h4>üéØ Respuesta a) Ninguna inaceptable</h4>
          <div class="answer">P(X = 0) = 0.5223 = 52.23%</div>
        </div>

        <div class="answer-box" style="margin-bottom: 15px;">
          <h4>üéØ Respuesta b) Al menos una inaceptable</h4>
          <div class="answer">P(X ‚â• 1) = 0.4777 = 47.77%</div>
        </div>

        <div class="answer-box">
          <h4>üéØ Respuesta c) N√∫mero promedio</h4>
          <div class="answer">E[X] = 0.67 arandelas inaceptables</div>
        </div>

        <div class="interpretation" style="margin-top: 30px;">
          <h4>üí° Conclusiones del control de calidad:</h4>
          <ul>
            <li><strong>Calidad del lote:</strong> Solo 6.67% (5/75) del lote es defectuoso, lo cual es relativamente bueno.</li>
            <li><strong>Efectividad del muestreo:</strong> Con una muestra de 10 arandelas, hay casi 48% de probabilidad de detectar al menos una defectuosa.</li>
            <li><strong>Tama√±o de muestra:</strong> Si queremos mayor probabilidad de detecci√≥n, deber√≠amos aumentar el tama√±o de la muestra.</li>
            <li><strong>Expectativa:</strong> En promedio, encontraremos menos de 1 arandela defectuosa por muestra, lo cual es consistente con la baja proporci√≥n de defectos en el lote.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Simulador interactivo -->
    <div class="simulator">
      <h3>üéÆ Simulador Interactivo</h3>
      <p style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 20px;">
        Ajusta los par√°metros para explorar diferentes escenarios de control de calidad
      </p>

      <div class="control-group">
        <div class="control">
          <label>Tama√±o del lote (N):</label>
          <input type="range" id="populationSlider" min="20" max="200" step="5" value="75">
          <span class="value-display" id="populationValue">75</span>
        </div>

        <div class="control">
          <label>Arandelas defectuosas (K):</label>
          <input type="range" id="defectiveSlider" min="1" max="20" step="1" value="5">
          <span class="value-display" id="defectiveValue">5</span>
        </div>

        <div class="control">
          <label>Tama√±o de la muestra (n):</label>
          <input type="range" id="sampleSlider" min="5" max="30" step="1" value="10">
          <span class="value-display" id="sampleValue">10</span>
        </div>
      </div>

      <div class="results-grid">
        <div class="result-card">
          <div class="label">P(X = 0)</div>
          <div class="value" id="simProb0">52.23%</div>
        </div>

        <div class="result-card">
          <div class="label">P(X ‚â• 1)</div>
          <div class="value" id="simProb1">47.77%</div>
        </div>

        <div class="result-card">
          <div class="label">E[X] Media</div>
          <div class="value" id="simMean">0.67</div>
        </div>

        <div class="result-card">
          <div class="label">œÉ Desv. Std</div>
          <div class="value" id="simStd">0.74</div>
        </div>
      </div>

      <div class="chart-container" style="margin-top: 30px;">
        <h4>üìä Distribuci√≥n actualizada</h4>
        <canvas id="simulatorChart"></canvas>
      </div>
    </div>

  </div>

  <script>
    // Generar visualizaci√≥n de arandelas
    function generateWasherGrid() {
      const grid = document.getElementById('washerGrid');
      const total = 75;
      const defective = 5;
      
      // Crear array de posiciones y mezclar
      let positions = [];
      for (let i = 0; i < total; i++) {
        positions.push(i < defective ? 'bad' : 'good');
      }
      
      // Mezclar array (Fisher-Yates)
      for (let i = positions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [positions[i], positions[j]] = [positions[j], positions[i]];
      }
      
      // Generar HTML
      positions.forEach((type, index) => {
        const washer = document.createElement('div');
        washer.className = `washer ${type}`;
        washer.textContent = type === 'bad' ? '‚úó' : '';
        washer.title = type === 'bad' ? 'Inaceptable' : 'Aceptable';
        grid.appendChild(washer);
      });
    }

    // Funci√≥n para calcular combinaciones
    function combination(n, k) {
      if (k > n || k < 0) return 0;
      if (k === 0 || k === n) return 1;
      
      let result = 1;
      for (let i = 0; i < k; i++) {
        result *= (n - i);
        result /= (i + 1);
      }
      return result;
    }

    // Funci√≥n para calcular probabilidad hipergeom√©trica
    function hypergeometric(N, K, n, k) {
      const numerator = combination(K, k) * combination(N - K, n - k);
      const denominator = combination(N, n);
      return numerator / denominator;
    }

    // Expansi√≥n de pasos
    document.querySelectorAll('.step-header').forEach(header => {
      header.addEventListener('click', () => {
        const step = header.parentElement;
        step.classList.toggle('open');
      });
    });

    // Variables para los gr√°ficos
    let distributionChartInstance, cumulativeChartInstance, simulatorChartInstance;

    // Crear gr√°fico de distribuci√≥n
    function createDistributionChart() {
      const ctx = document.getElementById('distributionChart').getContext('2d');
      
      const data = {
        labels: ['0', '1', '2', '3', '4', '5'],
        datasets: [{
          label: 'P(X = k)',
          data: [0.5223, 0.3668, 0.0973, 0.0129, 0.0008, 0.00002],
          backgroundColor: [
            'rgba(100, 255, 150, 0.8)',
            'rgba(100, 200, 255, 0.8)',
            'rgba(150, 150, 255, 0.8)',
            'rgba(200, 150, 255, 0.8)',
            'rgba(255, 150, 200, 0.8)',
            'rgba(255, 150, 150, 0.8)'
          ],
          borderColor: [
            'rgba(100, 255, 150, 1)',
            'rgba(100, 200, 255, 1)',
            'rgba(150, 150, 255, 1)',
            'rgba(200, 150, 255, 1)',
            'rgba(255, 150, 200, 1)',
            'rgba(255, 150, 150, 1)'
          ],
          borderWidth: 2,
          borderRadius: 8
        }]
      };
      
      distributionChartInstance = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `Probabilidad: ${(context.parsed.y * 100).toFixed(2)}%`;
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 0.6,
              title: {
                display: true,
                text: 'Probabilidad',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: {
                color: '#fff',
                callback: function(value) {
                  return (value * 100).toFixed(0) + '%';
                }
              },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            x: {
              title: {
                display: true,
                text: 'N√∫mero de arandelas inaceptables (k)',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: { color: '#fff' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }

    // Crear gr√°fico acumulado
    function createCumulativeChart() {
      const ctx = document.getElementById('cumulativeChart').getContext('2d');
      
      const data = {
        labels: ['0', '1', '2', '3', '4', '5'],
        datasets: [{
          label: 'P(X ‚â§ k)',
          data: [0.5223, 0.8891, 0.9864, 0.9993, 1.0000, 1.0000],
          backgroundColor: 'rgba(100, 200, 255, 0.8)',
          borderColor: 'rgba(100, 200, 255, 1)',
          borderWidth: 2,
          borderRadius: 8
        }]
      };
      
      cumulativeChartInstance = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `Probabilidad acumulada: ${(context.parsed.y * 100).toFixed(2)}%`;
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 1.0,
              title: {
                display: true,
                text: 'Probabilidad Acumulada',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: {
                color: '#fff',
                callback: function(value) {
                  return (value * 100).toFixed(0) + '%';
                }
              },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            x: {
              title: {
                display: true,
                text: 'Hasta k arandelas inaceptables',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: { color: '#fff' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }

    // Crear gr√°fico del simulador
    function createSimulatorChart(N, K, n) {
      const ctx = document.getElementById('simulatorChart').getContext('2d');
      
      const maxK = Math.min(K, n);
      const labels = [];
      const probData = [];
      
      for (let k = 0; k <= maxK; k++) {
        labels.push(k.toString());
        probData.push(hypergeometric(N, K, n, k));
      }
      
      const data = {
        labels: labels,
        datasets: [{
          label: 'P(X = k)',
          data: probData,
          backgroundColor: probData.map((_, i) => {
            const hue = 120 + (i * 30);
            return `hsla(${hue}, 70%, 60%, 0.8)`;
          }),
          borderColor: probData.map((_, i) => {
            const hue = 120 + (i * 30);
            return `hsla(${hue}, 70%, 60%, 1)`;
          }),
          borderWidth: 2,
          borderRadius: 8
        }]
      };
      
      if (simulatorChartInstance) {
        simulatorChartInstance.destroy();
      }
      
      simulatorChartInstance = new Chart(ctx, {
        type: 'bar',
        data: data,
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return `Probabilidad: ${(context.parsed.y * 100).toFixed(2)}%`;
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Probabilidad',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: {
                color: '#fff',
                callback: function(value) {
                  return (value * 100).toFixed(1) + '%';
                }
              },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            },
            x: {
              title: {
                display: true,
                text: 'Arandelas inaceptables (k)',
                font: { size: 14, weight: 'bold' },
                color: '#fff'
              },
              ticks: { color: '#fff' },
              grid: { color: 'rgba(255, 255, 255, 0.1)' }
            }
          }
        }
      });
    }

    // Simulador interactivo
    function updateSimulator() {
      const N = parseInt(document.getElementById('populationSlider').value);
      const K = parseInt(document.getElementById('defectiveSlider').value);
      const n = parseInt(document.getElementById('sampleSlider').value);
      
      // Validar que K <= N y n <= N
      const validK = Math.min(K, N);
      const validN = Math.min(n, N);
      
      document.getElementById('populationValue').textContent = N;
      document.getElementById('defectiveValue').textContent = validK;
      document.getElementById('sampleValue').textContent = validN;
      
      // Calcular probabilidades
      const prob0 = hypergeometric(N, validK, validN, 0);
      const prob1plus = 1 - prob0;
      const mean = validN * (validK / N);
      const variance = validN * (validK/N) * ((N-validK)/N) * ((N-validN)/(N-1));
      const std = Math.sqrt(variance);
      
      document.getElementById('simProb0').textContent = (prob0 * 100).toFixed(2) + '%';
      document.getElementById('simProb1').textContent = (prob1plus * 100).toFixed(2) + '%';
      document.getElementById('simMean').textContent = mean.toFixed(2);
      document.getElementById('simStd').textContent = std.toFixed(2);
      
      // Actualizar gr√°fico
      createSimulatorChart(N, validK, validN);
    }

    // Event listeners para el simulador
    document.getElementById('populationSlider').addEventListener('input', updateSimulator);
    document.getElementById('defectiveSlider').addEventListener('input', updateSimulator);
    document.getElementById('sampleSlider').addEventListener('input', updateSimulator);

    // Inicializar
    window.addEventListener('load', () => {
      generateWasherGrid();
      createDistributionChart();
      createCumulativeChart();
      updateSimulator();
    });

        // Bot√≥n "Volver" din√°mico
    document.getElementById('back-btn').addEventListener('click', () => {
      if (document.referrer && document.referrer !== window.location.href) {
        history.back();
      } else {
        window.location.href = '../temario.html'; // fallback si se abre directo
      }
    });
  </script>
</body>
</html>